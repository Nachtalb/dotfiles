#!/usr/local/bin/gawk -f
# Print out all buildout paths of the given file as a comma sparated list
# Example:
#   $ cat bin/buildout | buildout-paths
#   or
#   $ buildout-paths < bin/buildout

BEGIN {
    out="";
    del=ARGV[2]
    if (length(del) == 0) {
        del=":";
    }
}
{
    if (match($0, "^ *'(.*)',$", ary)) {
        out=out sprintf("%s%s", ary[1], del);
    }
}
END {
    gsub(/:?$/,"",out);
    gsub(/\n?$/,"",out);
    print out;
}
